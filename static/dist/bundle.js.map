{"version":3,"sources":["node_modules/browser-pack/_prelude.js","static/js/examples/MouseDrivenVerticalCarousel/MouseDrivenVerticalCarousel.js","static/js/examples/TemplateExample/TemplateComponent.js","static/js/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import gsap from \"gsap\";\n\nexport default class VerticalMouseDrivenCarousel {\n    constructor() {\n        this.defaults = {\n            carousel: \".js-mouse-driven-vertical-carousel\",\n            bgImg: \".js-mouse-driven-vertical-carousel-bg-img\",\n            list: \".js-mouse-driven-vertical-carousel-list\",\n            listItem: \".js-mouse-driven-vertical-carousel-list-item\"\n        };\n\n        this.posY = 0;\n\n        this.initCursor();\n        this.init();\n        this.bgImgController();\n    }\n\n    //region getters\n    getBgImgs() {\n        return document.querySelectorAll(this.defaults.bgImg);\n    }\n\n    getListItems() {\n        return document.querySelectorAll(this.defaults.listItem);\n    }\n\n    getList() {\n        return document.querySelector(this.defaults.list);\n    }\n\n    getCarousel() {\n        return document.querySelector(this.defaults.carousel);\n    }\n\n    init() {\n        gsap.set(this.getBgImgs(), {\n            autoAlpha: 0,\n            scale: 1.05\n        });\n\n        gsap.set(this.getBgImgs()[0], {\n            autoAlpha: 1,\n            scale: 1\n        });\n\n        this.listItems = this.getListItems().length - 1;\n\n        this.listOpacityController(0);\n    }\n\n    initCursor() {\n        const listHeight = this.getList().clientHeight;\n        const carouselHeight = this.getCarousel().clientHeight;\n\n        this.getCarousel().addEventListener(\n            \"mousemove\",\n            event => {\n                this.posY = event.pageY - this.getCarousel().offsetTop;\n                let offset = -this.posY / carouselHeight * listHeight;\n\n                gsap.to(this.getList(), {\n                    duration: 0.3,\n                    y: offset,\n                    ease: \"power4.out\"\n                });\n            },\n            false\n        );\n    }\n\n    bgImgController() {\n        for (const link of this.getListItems()) {\n            link.addEventListener(\"mouseenter\", ev => {\n                let currentId = ev.currentTarget.dataset.itemId;\n\n                this.listOpacityController(currentId);\n\n                gsap.to(ev.currentTarget, {\n                    duration: 0.3,\n                    autoAlpha: 1\n                });\n\n                gsap.to(\".is-visible\", {\n                    duration: 0.2,\n                    autoAlpha: 0,\n                    scale: 1.05\n                });\n\n                if (!this.getBgImgs()[currentId].classList.contains(\"is-visible\")) {\n                    this.getBgImgs()[currentId].classList.add(\"is-visible\");\n                }\n\n                gsap.to(this.getBgImgs()[currentId], {\n                    duration: 0.6,\n                    autoAlpha: 1,\n                    scale: 1\n                });\n            });\n        }\n    }\n\n    listOpacityController(id) {\n        id = parseInt(id);\n        let aboveCurrent = this.listItems - id;\n        let belowCurrent = parseInt(id);\n\n        if (aboveCurrent > 0) {\n            for (let i = 1; i <= aboveCurrent; i++) {\n                let opacity = 0.5 / i;\n                let offset = 5 * i;\n                gsap.to(this.getListItems()[id + i], {\n                    duration: 0.5,\n                    autoAlpha: opacity,\n                    x: offset,\n                    ease: \"power3.out\"\n                });\n            }\n        }\n\n        if (belowCurrent > 0) {\n            for (let i = 0; i <= belowCurrent; i++) {\n                let opacity = 0.5 / i;\n                let offset = 5 * i;\n                gsap.to(this.getListItems()[id - i], {\n                    duration: 0.5,\n                    autoAlpha: opacity,\n                    x: offset,\n                    ease: \"power3.out\"\n                });\n            }\n        }\n    }\n}\n","/**\n * Template component\n * explain what this class is doing\n */\nexport default class TemplateComponent {\n    constructor() {\n        /**\n         * Template component DOM selectors\n         * @type {{templateComponentArray: string, templateComponent: string, states: {isActive: string}}}\n         */\n        this.DOM = {\n            templateComponent: \".js-template-component\",\n            templateComponentArray: \".js-template-component-array\",\n            states: {\n                isActive: \"is-active\",\n            },\n        };\n\n        /**\n         * Fetch template component DOM element\n         * @type {Element}\n         */\n        this.templateComponent = document.querySelector(this.DOM.templateComponent);\n\n        /**\n         * Fetch template component list of DOM elements\n         * @type {NodeListOf<Element>}\n         */\n        this.templateComponentArray = document.querySelectorAll(this.DOM.templateComponentArray);\n    }\n\n    /**\n     * Init\n     */\n    init() {\n        if (this.templateComponent === null) {\n            return;\n        }\n        // if (this.templateComponentArray.length < 1) {\n        //     return;\n        // }\n        console.log(\"Template component init\");\n        this.templateMethod();\n    }\n\n    /**\n     * Template method\n     * explain what this method is doing\n     */\n    templateMethod() {\n        console.log(\"Template method init\");\n    }\n}\n","/**\n * MAIN JS FILE\n */\n\n/**\n * Helpers\n * Imports of helper functions are stripped out of bundle\n * Include them within \"start-strip-code\" and \"end-strip-code\" comments\n */\n\n/**\n * Components\n */\nimport TemplateComponent from \"./examples/TemplateExample/TemplateComponent\";\nimport VerticalMouseDrivenCarousel from \"./examples/MouseDrivenVerticalCarousel/MouseDrivenVerticalCarousel\";\n\n/**\n * Check if document is ready cross-browser\n * @param callback\n */\nconst ready = (callback) => {\n    if (document.readyState !== \"loading\") {\n        /**\n         * Document is already ready, call the callback directly\n         */\n        callback();\n    } else if (document.addEventListener) {\n        /**\n         * All modern browsers to register DOMContentLoaded\n         */\n        document.addEventListener(\"DOMContentLoaded\", callback);\n    } else {\n        /**\n         * Old IE browsers\n         */\n        document.attachEvent(\"onreadystatechange\", function () {\n            if (document.readyState === \"complete\") {\n                callback();\n            }\n        });\n    }\n};\n\n/**\n * Document ready callback\n */\nready(() => {\n    /**\n     * HELPERS INIT\n     * Only init helpers if they exist\n     * Will be undefined on production because of import stripping\n     */\n\n    /**\n     * CREDITS INIT\n     */\n    const credits = [\n        \"background-color: #000000\",\n        \"color: white\",\n        \"display: block\",\n        \"line-height: 24px\",\n        \"text-align: center\",\n        \"border: 1px solid #ffffff\",\n        \"font-weight: bold\",\n    ].join(\";\");\n    console.info(\"dev by: %c Bornfight FE Team \", credits);\n\n    /**\n     * COMPONENTS INIT\n     */\n\n    /**\n     * Template component\n     * @type {TemplateComponent}\n     */\n    const templateComponent = new TemplateComponent();\n    templateComponent.init();\n\n    /**\n     * VerticalMouseDrivenCarousel component\n     * @type {VerticalMouseDrivenCarousel}\n     */\n    const verticalMouseDrivenCarousel = new VerticalMouseDrivenCarousel();\n    verticalMouseDrivenCarousel.init();\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzdGF0aWMvanMvZXhhbXBsZXMvTW91c2VEcml2ZW5WZXJ0aWNhbENhcm91c2VsL01vdXNlRHJpdmVuVmVydGljYWxDYXJvdXNlbC5qcyIsInN0YXRpYy9qcy9leGFtcGxlcy9UZW1wbGF0ZUV4YW1wbGUvVGVtcGxhdGVDb21wb25lbnQuanMiLCJzdGF0aWMvanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFcUIsMkI7QUFDakIseUNBQWM7QUFBQTs7QUFDVixTQUFLLFFBQUwsR0FBZ0I7QUFDWixNQUFBLFFBQVEsRUFBRSxvQ0FERTtBQUVaLE1BQUEsS0FBSyxFQUFFLDJDQUZLO0FBR1osTUFBQSxJQUFJLEVBQUUseUNBSE07QUFJWixNQUFBLFFBQVEsRUFBRTtBQUpFLEtBQWhCO0FBT0EsU0FBSyxJQUFMLEdBQVksQ0FBWjtBQUVBLFNBQUssVUFBTDtBQUNBLFNBQUssSUFBTDtBQUNBLFNBQUssZUFBTDtBQUNILEcsQ0FFRDs7Ozs7V0FDQSxxQkFBWTtBQUNSLGFBQU8sUUFBUSxDQUFDLGdCQUFULENBQTBCLEtBQUssUUFBTCxDQUFjLEtBQXhDLENBQVA7QUFDSDs7O1dBRUQsd0JBQWU7QUFDWCxhQUFPLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixLQUFLLFFBQUwsQ0FBYyxRQUF4QyxDQUFQO0FBQ0g7OztXQUVELG1CQUFVO0FBQ04sYUFBTyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUFLLFFBQUwsQ0FBYyxJQUFyQyxDQUFQO0FBQ0g7OztXQUVELHVCQUFjO0FBQ1YsYUFBTyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUFLLFFBQUwsQ0FBYyxRQUFyQyxDQUFQO0FBQ0g7OztXQUVELGdCQUFPO0FBQ0gsb0JBQUssR0FBTCxDQUFTLEtBQUssU0FBTCxFQUFULEVBQTJCO0FBQ3ZCLFFBQUEsU0FBUyxFQUFFLENB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QUFDQTtBQUNBO0FBQ0E7O0FBRUk7QUFDSjtBQUNBO0FBQ0ksTUFBTSxPQUFPLEdBQUcsQ0FDWiwyQkFEWSxFQUVaLGNBRlksRUFHWixnQkFIWSxFQUlaLG1CQUpZLEVBS1osb0JBTFksRUFNWiwyQkFOWSxFQU9aLG1CQVBZLEVBUWQsSUFSYyxDQVFULEdBUlMsQ0FBaEI7QUFTQSxFQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWEsK0JBQWIsRUFBOEMsT0FBOUM7QUFFQTtBQUNKO0FBQ0E7O0FBRUk7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksTUFBTSxpQkFBaUIsR0FBRyxJQUFJLDBCQUFKLEVBQTFCO0FBQ0EsRUFBQSxpQkFBaUIsQ0FBQyxJQUFsQjtBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxvQ0FBSixFQUFwQztBQUNBLEVBQUEsMkJBQTJCLENBQUMsSUFBNUI7QUFDSCxDQXRDSSxDQUFMIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGljYWxNb3VzZURyaXZlbkNhcm91c2VsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGNhcm91c2VsOiBcIi5qcy1tb3VzZS1kcml2ZW4tdmVydGljYWwtY2Fyb3VzZWxcIixcbiAgICAgICAgICAgIGJnSW1nOiBcIi5qcy1tb3VzZS1kcml2ZW4tdmVydGljYWwtY2Fyb3VzZWwtYmctaW1nXCIsXG4gICAgICAgICAgICBsaXN0OiBcIi5qcy1tb3VzZS1kcml2ZW4tdmVydGljYWwtY2Fyb3VzZWwtbGlzdFwiLFxuICAgICAgICAgICAgbGlzdEl0ZW06IFwiLmpzLW1vdXNlLWRyaXZlbi12ZXJ0aWNhbC1jYXJvdXNlbC1saXN0LWl0ZW1cIlxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucG9zWSA9IDA7XG5cbiAgICAgICAgdGhpcy5pbml0Q3Vyc29yKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmJnSW1nQ29udHJvbGxlcigpO1xuICAgIH1cblxuICAgIC8vcmVnaW9uIGdldHRlcnNcbiAgICBnZXRCZ0ltZ3MoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZGVmYXVsdHMuYmdJbWcpO1xuICAgIH1cblxuICAgIGdldExpc3RJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5kZWZhdWx0cy5saXN0SXRlbSk7XG4gICAgfVxuXG4gICAgZ2V0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5kZWZhdWx0cy5saXN0KTtcbiAgICB9XG5cbiAgICBnZXRDYXJvdXNlbCgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5kZWZhdWx0cy5jYXJvdXNlbCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgZ3NhcC5zZXQodGhpcy5nZXRCZ0ltZ3MoKSwge1xuICAgICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgICAgICAgc2NhbGU6IDEuMDVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3NhcC5zZXQodGhpcy5nZXRCZ0ltZ3MoKVswXSwge1xuICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxuICAgICAgICAgICAgc2NhbGU6IDFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5saXN0SXRlbXMgPSB0aGlzLmdldExpc3RJdGVtcygpLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgdGhpcy5saXN0T3BhY2l0eUNvbnRyb2xsZXIoMCk7XG4gICAgfVxuXG4gICAgaW5pdEN1cnNvcigpIHtcbiAgICAgICAgY29uc3QgbGlzdEhlaWdodCA9IHRoaXMuZ2V0TGlzdCgpLmNsaWVudEhlaWdodDtcbiAgICAgICAgY29uc3QgY2Fyb3VzZWxIZWlnaHQgPSB0aGlzLmdldENhcm91c2VsKCkuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZ2V0Q2Fyb3VzZWwoKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJtb3VzZW1vdmVcIixcbiAgICAgICAgICAgIGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSBldmVudC5wYWdlWSAtIHRoaXMuZ2V0Q2Fyb3VzZWwoKS5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IC10aGlzLnBvc1kgLyBjYXJvdXNlbEhlaWdodCAqIGxpc3RIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBnc2FwLnRvKHRoaXMuZ2V0TGlzdCgpLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjMsXG4gICAgICAgICAgICAgICAgICAgIHk6IG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGJnSW1nQ29udHJvbGxlcigpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIHRoaXMuZ2V0TGlzdEl0ZW1zKCkpIHtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZXYgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBldi5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaXRlbUlkO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0T3BhY2l0eUNvbnRyb2xsZXIoY3VycmVudElkKTtcblxuICAgICAgICAgICAgICAgIGdzYXAudG8oZXYuY3VycmVudFRhcmdldCwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC4zLFxuICAgICAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDFcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdzYXAudG8oXCIuaXMtdmlzaWJsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDEuMDVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRCZ0ltZ3MoKVtjdXJyZW50SWRdLmNsYXNzTGlzdC5jb250YWlucyhcImlzLXZpc2libGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCZ0ltZ3MoKVtjdXJyZW50SWRdLmNsYXNzTGlzdC5hZGQoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdzYXAudG8odGhpcy5nZXRCZ0ltZ3MoKVtjdXJyZW50SWRdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjYsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGlzdE9wYWNpdHlDb250cm9sbGVyKGlkKSB7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoaWQpO1xuICAgICAgICBsZXQgYWJvdmVDdXJyZW50ID0gdGhpcy5saXN0SXRlbXMgLSBpZDtcbiAgICAgICAgbGV0IGJlbG93Q3VycmVudCA9IHBhcnNlSW50KGlkKTtcblxuICAgICAgICBpZiAoYWJvdmVDdXJyZW50ID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYWJvdmVDdXJyZW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eSA9IDAuNSAvIGk7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDUgKiBpO1xuICAgICAgICAgICAgICAgIGdzYXAudG8odGhpcy5nZXRMaXN0SXRlbXMoKVtpZCArIGldLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogb3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgeDogb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyMy5vdXRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlbG93Q3VycmVudCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGJlbG93Q3VycmVudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9wYWNpdHkgPSAwLjUgLyBpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSA1ICogaTtcbiAgICAgICAgICAgICAgICBnc2FwLnRvKHRoaXMuZ2V0TGlzdEl0ZW1zKClbaWQgLSBpXSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC41LFxuICAgICAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIHg6IG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjMub3V0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogVGVtcGxhdGUgY29tcG9uZW50XG4gKiBleHBsYWluIHdoYXQgdGhpcyBjbGFzcyBpcyBkb2luZ1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZW1wbGF0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wbGF0ZSBjb21wb25lbnQgRE9NIHNlbGVjdG9yc1xuICAgICAgICAgKiBAdHlwZSB7e3RlbXBsYXRlQ29tcG9uZW50QXJyYXk6IHN0cmluZywgdGVtcGxhdGVDb21wb25lbnQ6IHN0cmluZywgc3RhdGVzOiB7aXNBY3RpdmU6IHN0cmluZ319fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbXBvbmVudDogXCIuanMtdGVtcGxhdGUtY29tcG9uZW50XCIsXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbXBvbmVudEFycmF5OiBcIi5qcy10ZW1wbGF0ZS1jb21wb25lbnQtYXJyYXlcIixcbiAgICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBcImlzLWFjdGl2ZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmV0Y2ggdGVtcGxhdGUgY29tcG9uZW50IERPTSBlbGVtZW50XG4gICAgICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZUNvbXBvbmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00udGVtcGxhdGVDb21wb25lbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGZXRjaCB0ZW1wbGF0ZSBjb21wb25lbnQgbGlzdCBvZiBET00gZWxlbWVudHNcbiAgICAgICAgICogQHR5cGUge05vZGVMaXN0T2Y8RWxlbWVudD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBsYXRlQ29tcG9uZW50QXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuRE9NLnRlbXBsYXRlQ29tcG9uZW50QXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRcbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZUNvbXBvbmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmICh0aGlzLnRlbXBsYXRlQ29tcG9uZW50QXJyYXkubGVuZ3RoIDwgMSkge1xuICAgICAgICAvLyAgICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGVtcGxhdGUgY29tcG9uZW50IGluaXRcIik7XG4gICAgICAgIHRoaXMudGVtcGxhdGVNZXRob2QoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBtZXRob2RcbiAgICAgKiBleHBsYWluIHdoYXQgdGhpcyBtZXRob2QgaXMgZG9pbmdcbiAgICAgKi9cbiAgICB0ZW1wbGF0ZU1ldGhvZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJUZW1wbGF0ZSBtZXRob2QgaW5pdFwiKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1BSU4gSlMgRklMRVxuICovXG5cbi8qKlxuICogSGVscGVyc1xuICogSW1wb3J0cyBvZiBoZWxwZXIgZnVuY3Rpb25zIGFyZSBzdHJpcHBlZCBvdXQgb2YgYnVuZGxlXG4gKiBJbmNsdWRlIHRoZW0gd2l0aGluIFwic3RhcnQtc3RyaXAtY29kZVwiIGFuZCBcImVuZC1zdHJpcC1jb2RlXCIgY29tbWVudHNcbiAqL1xuXG4vKipcbiAqIENvbXBvbmVudHNcbiAqL1xuaW1wb3J0IFRlbXBsYXRlQ29tcG9uZW50IGZyb20gXCIuL2V4YW1wbGVzL1RlbXBsYXRlRXhhbXBsZS9UZW1wbGF0ZUNvbXBvbmVudFwiO1xuaW1wb3J0IFZlcnRpY2FsTW91c2VEcml2ZW5DYXJvdXNlbCBmcm9tIFwiLi9leGFtcGxlcy9Nb3VzZURyaXZlblZlcnRpY2FsQ2Fyb3VzZWwvTW91c2VEcml2ZW5WZXJ0aWNhbENhcm91c2VsXCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgZG9jdW1lbnQgaXMgcmVhZHkgY3Jvc3MtYnJvd3NlclxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmNvbnN0IHJlYWR5ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2N1bWVudCBpcyBhbHJlYWR5IHJlYWR5LCBjYWxsIHRoZSBjYWxsYmFjayBkaXJlY3RseVxuICAgICAgICAgKi9cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBtb2Rlcm4gYnJvd3NlcnMgdG8gcmVnaXN0ZXIgRE9NQ29udGVudExvYWRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgSUUgYnJvd3NlcnNcbiAgICAgICAgICovXG4gICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHJlYWR5IGNhbGxiYWNrXG4gKi9cbnJlYWR5KCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBIRUxQRVJTIElOSVRcbiAgICAgKiBPbmx5IGluaXQgaGVscGVycyBpZiB0aGV5IGV4aXN0XG4gICAgICogV2lsbCBiZSB1bmRlZmluZWQgb24gcHJvZHVjdGlvbiBiZWNhdXNlIG9mIGltcG9ydCBzdHJpcHBpbmdcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIENSRURJVFMgSU5JVFxuICAgICAqL1xuICAgIGNvbnN0IGNyZWRpdHMgPSBbXG4gICAgICAgIFwiYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMFwiLFxuICAgICAgICBcImNvbG9yOiB3aGl0ZVwiLFxuICAgICAgICBcImRpc3BsYXk6IGJsb2NrXCIsXG4gICAgICAgIFwibGluZS1oZWlnaHQ6IDI0cHhcIixcbiAgICAgICAgXCJ0ZXh0LWFsaWduOiBjZW50ZXJcIixcbiAgICAgICAgXCJib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmXCIsXG4gICAgICAgIFwiZm9udC13ZWlnaHQ6IGJvbGRcIixcbiAgICBdLmpvaW4oXCI7XCIpO1xuICAgIGNvbnNvbGUuaW5mbyhcImRldiBieTogJWMgQm9ybmZpZ2h0IEZFIFRlYW0gXCIsIGNyZWRpdHMpO1xuXG4gICAgLyoqXG4gICAgICogQ09NUE9ORU5UUyBJTklUXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBjb21wb25lbnRcbiAgICAgKiBAdHlwZSB7VGVtcGxhdGVDb21wb25lbnR9XG4gICAgICovXG4gICAgY29uc3QgdGVtcGxhdGVDb21wb25lbnQgPSBuZXcgVGVtcGxhdGVDb21wb25lbnQoKTtcbiAgICB0ZW1wbGF0ZUNvbXBvbmVudC5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbE1vdXNlRHJpdmVuQ2Fyb3VzZWwgY29tcG9uZW50XG4gICAgICogQHR5cGUge1ZlcnRpY2FsTW91c2VEcml2ZW5DYXJvdXNlbH1cbiAgICAgKi9cbiAgICBjb25zdCB2ZXJ0aWNhbE1vdXNlRHJpdmVuQ2Fyb3VzZWwgPSBuZXcgVmVydGljYWxNb3VzZURyaXZlbkNhcm91c2VsKCk7XG4gICAgdmVydGljYWxNb3VzZURyaXZlbkNhcm91c2VsLmluaXQoKTtcbn0pO1xuIl19"}